# YOpin - Приложение для обзора книг

## Описание проекта

**YOpin** - мобильное приложение для Android, предназначенное для любителей книг и чтения. Приложение позволяет пользователям создавать аккаунты, добавлять книги в общую библиотеку, писать рецензии и делиться своими впечатлениями с другими пользователями.

## Основные функции

- **Регистрация и авторизация пользователей**:
  - Создание личного аккаунта
  - Вход с использованием электронной почты и пароля
  - Поддержка как онлайн (Firebase), так и офлайн режимов работы

- **Управление профилем**:
  - Просмотр и редактирование личной информации
  - Изменение даты рождения
  - Быстрый доступ к отзывам и книгам

- **Работа с книгами**:
  - Просмотр списка доступных книг
  - Добавление новых книг в общую библиотеку
  - Поиск и фильтрация книг (по автору, жанру, году издания)

- **Система отзывов**:
  - Написание отзывов на книги
  - Оценка книг по 5-балльной шкале
  - Просмотр всех отзывов для конкретной книги
  - Управление собственными отзывами (просмотр, редактирование)

- **Интеграция с Firebase**:
  - Синхронизация данных между устройствами
  - Хранение пользовательских аккаунтов
  - Безопасный доступ к информации

## Технологический стек

- **Язык программирования**: Java
- **База данных**:
  - Локальная: SQLite
  - Облачная: Firebase Firestore
- **Аутентификация**: Firebase Authentication
- **Пользовательский интерфейс**: 
  - Material Design компоненты
  - RecyclerView для отображения списков
  - CardView для элементов списка
  - Custom Layouts

## Установка и использование

1. **Системные требования**:
   - Android 5.0 (API 21) или выше
   - Доступ к интернету для полной функциональности

2. **Установка**:
   - Скачайте APK-файл из раздела релизов
   - Разрешите установку из неизвестных источников в настройках безопасности
   - Установите приложение

3. **Начало работы**:
   - Создайте новый аккаунт или войдите в существующий
   - Исследуйте доступные книги или добавьте новые
   - Пишите отзывы и оценивайте книги
   - Настройте свой профиль

## Архитектура приложения

Приложение построено с использованием традиционной архитектуры Android-приложений:

- **Активности (Activities)** для отображения отдельных экранов
- **Адаптеры (Adapters)** для связывания данных с UI-компонентами
- **Модели данных (Models)** для представления сущностей (User, Book, Review)
- **Помощники (Helpers)** для работы с базой данных и Firebase
- **Менеджеры (Managers)** для управления сессиями и авторизацией

## Дальнейшее развитие

- Добавление функции поиска по книгам и отзывам
- Внедрение возможности добавления книг в избранное
- Расширение социальных функций (подписки на пользователей, рекомендации)
- Улучшение офлайн-режима работы
- Добавление уведомлений о новых отзывах

## Исправление ошибок сборки

В приложении были исправлены следующие ошибки:

1. **Добавлены отсутствующие цветовые ресурсы:**
   - `dark_green` - используется в нескольких файлах макетов и стилей
   - `dark_green_variant` - используется в некоторых drawable-ресурсах
   - `light_green` - используется в ic_launcher_background.xml и activity_book_reviews.xml

## Запуск приложения

### Требования
- Java JDK 11 или выше
- Android Studio или настроенный Android SDK

### Сборка приложения
1. **Windows:**
   - Запустите файл `build_app.bat` двойным щелчком мыши
   - Или выполните в командной строке: `.\gradlew.bat assembleDebug`

2. **Linux/macOS:**
   - Сделайте скрипт исполняемым: `chmod +x build_app.sh`
   - Запустите скрипт: `./build_app.sh`
   - Или выполните в терминале: `./gradlew assembleDebug`

3. **Android Studio:**
   - Откройте проект в Android Studio
   - Выберите "Build" > "Build Bundle(s) / APK(s)" > "Build APK(s)"

### Установка на устройство
1. Подключите устройство Android через USB с включенным режимом отладки
2. Установите APK командой: `adb install app/build/outputs/apk/debug/app-debug.apk`
3. Или перенесите APK на устройство и установите вручную

## Исправление ошибок входа в приложение

В приложении также были исправлены следующие проблемы:

1. **Улучшена обработка ошибок в DataRepository:**
   - Добавлены проверки на null для индексов колонок
   - Добавлена обработка исключений при работе с базой данных

2. **Улучшена работа с сессией пользователя:**
   - Использование commit() вместо apply() для немедленного сохранения данных
   - Добавлена обработка исключений при работе с SharedPreferences

3. **Улучшена обработка ошибок в LoginActivity:**
   - Добавлена индикация загрузки при входе
   - Улучшена обработка ошибок инициализации базы данных

4. **Улучшена обработка ошибок в BaseActivity:**
   - Добавлены проверки на null для UI-элементов
   - Улучшена обработка ошибок инициализации сессии
